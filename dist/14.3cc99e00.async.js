(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{dNOp:function(e,t,a){"use strict";var n=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=m,a("Pwec");var r=l(a("CtXQ"));a("miYZ");var o=l(a("tsqr"));a("5Dmo");var i=l(a("3S7+")),s=l(a("qIgq")),c=n(a("q1tI")),d=l(a("UbMB")),u=l(a("+QRC")),f=l(a("qeB3")),p=d.default.bind(f.default);function m(e){var t=e.list,a=e.types,n=e.merchantMap,l=e.setMine,d=(0,c.useState)({}),f=(0,s.default)(d,2),m=f[0];f[1];return(0,c.useEffect)(function(){},[]),t.length?c.default.createElement("div",{className:p("table_list")},c.default.createElement("ul",null,t.map(function(t,s){return c.default.createElement("li",{key:s,className:s===+Object.keys(m)[0]?p("unfold"):""},c.default.createElement("div",{className:p("wrap_")},c.default.createElement("div",{className:p("wrap_box","image_box")},c.default.createElement("img",{className:p("image"),src:t.images[0]})),c.default.createElement("div",{className:p("wrap_box","des_")},t.description),n[t.merchant_id]&&c.default.createElement("div",{className:p("wrap_box","flex_box")},n[t.merchant_id]),c.default.createElement("div",{className:p("wrap_box","flex_box")},c.default.createElement(i.default,{title:"Get Code"},c.default.createElement("div",{className:p("icon_box"),onClick:function(){t.promotion_url?(0,u.default)(t.promotion_url)?o.default.success("copy success"):o.default.error("copy fail"):l(t.merchant_id)}},c.default.createElement(r.default,{type:"link"}))),c.default.createElement(i.default,{title:"Detailed information"},c.default.createElement("div",{className:p("icon_box"),style:{marginLeft:"5px"},onClick:function(){e.handleDetail(t)}},c.default.createElement(r.default,{type:"idcard"})))),void 0!==t.type&&c.default.createElement("div",{className:p("wrap_box","flex_box")},a[t.type])))}))):""}},qeB3:function(e,t,a){e.exports={table_list:"antd-pro-components-table-list-index-table_list",unfold:"antd-pro-components-table-list-index-unfold",detail_:"antd-pro-components-table-list-index-detail_",wrap_:"antd-pro-components-table-list-index-wrap_",wrap_box:"antd-pro-components-table-list-index-wrap_box",des_:"antd-pro-components-table-list-index-des_",image_box:"antd-pro-components-table-list-index-image_box",image:"antd-pro-components-table-list-index-image",flex_box:"antd-pro-components-table-list-index-flex_box",icon_box:"antd-pro-components-table-list-index-icon_box"}},zYK4:function(e,t,a){"use strict";var n=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DjyN");var r=l(a("NUBc"));a("jCWc");var o=l(a("kPKH"));a("14J3");var i=l(a("BMrR"));a("miYZ");var s=l(a("tsqr")),c=l(a("2Taf")),d=l(a("vZ4D")),u=l(a("MhPg")),f=l(a("l4Ni")),p=l(a("ujKo")),m=a("MuoO"),b=n(a("q1tI")),g=a("LLXN"),_=l(a("71zH")),h=l(a("b7VY")),x=l(a("UbMB")),y=l(a("dNOp")),v=l(a("+QRC")),E=l(a("TFTq"));function w(e){return function(){var t,a=(0,p.default)(e);if(k()){var n=(0,p.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,f.default)(this,t)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var M=function(e,t,a,n){var l,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(o=(r<3?l(o):r>3?l(t,a,o):l(t,a))||o);return r>3&&o&&Object.defineProperty(t,a,o),o},N=(x.default.bind(E.default),function(e){(0,u.default)(a,e);var t=w(a);function a(e){var n;return(0,c.default)(this,a),n=t.call(this,e),n.onChange=function(e){var t=n.props.dispatch;t({type:"market/fetch",payload:{page:e}})},n.handleDetail=function(e){n.setState({record:e})},n.setMine=function(e){var t=n.props.dispatch;t({type:"market/receive",payload:{material_id:e}}).then(function(e){var t=e.code,a=e.data.promotion_url,n=e.message;if(0!=t)return s.default.warn(n);(0,v.default)(a)?s.default.success("copy success"):s.default.error("copy fail")})},n.state={record:null},n}return(0,d.default)(a,[{key:"render",value:function(){var e=this,t=[{icon:"bank",title:(0,g.formatMessage)({id:"menu.afiliate"})},{title:(0,g.formatMessage)({id:"menu.afiliate.market"})}],a=this.state.record,n=this.props,l=n.total,s=(n.pages,n.page),c=n.page_size,d=n.list,u=n.merchantMap,f=n.promotion_url,p=n.types,m=this.onChange,x=this.setMine,v=this.handleDetail;return b.default.createElement(b.default.Fragment,null,b.default.createElement("style",null,"\n          .new-item-badge {\n            position: absolute;\n            background: #92b7bd;\n            z-index: 999;\n            border-radius: 3px;\n            color: #fff;\n            font-size: 70%;\n            padding: 2px 4px 0;\n            top: -10px;\n            left: -10px;\n            line-height: 1.4;\n            -ms-transform: rotate(-20deg);\n            -webkit-transform: rotate(-20deg);\n            transform: rotate(-20deg);\n            -webkit-transition: 0 0.1s ease-in;\n            -moz-transition: 0 0.1s ease-in;\n            -o-transition: 0 0.1s ease-in;\n            transition: transform 0.1s ease-in;\n            z-index:10\n            /* Most of this code is necessary to style and position the badge. */\n        }\n          "),b.default.createElement(_.default,{items:t}),b.default.createElement(i.default,{style:{marginTop:10},justify:"end"},b.default.createElement(o.default,{span:12}),b.default.createElement(o.default,{span:12},b.default.createElement(r.default,{style:{float:"right"},showQuickJumper:!0,current:s,total:l,pageSize:c,onChange:m}))),b.default.createElement(y.default,Object.assign({list:d||[]},{merchantMap:u,promotion_url:f,types:p,setMine:x,handleDetail:v})),b.default.createElement(i.default,{style:{marginTop:10},justify:"end"},b.default.createElement(o.default,{span:12}),b.default.createElement(o.default,{span:12},b.default.createElement(r.default,{style:{float:"right"},showQuickJumper:!0,current:s,total:l,pageSize:c,onChange:m}))),!!a&&b.default.createElement(h.default,{caption:a.title,mine:!0,record:a,visible:!0,close:function(){e.setState({record:null})}}))}}]),a}(b.PureComponent));N=M([(0,m.connect)(function(e){var t=e.market,a=t.list,n=t.total,l=t.page,r=t.pages,o=t.page_size,i=t.promotion_url,s=t.statuses,c=void 0===s?{}:s,d=e.material,u=d.materialList,f=d.merchantMap,p=d.types;return{list:a,total:n,page:l,pages:r,page_size:o,types:p,statuses:c,merchantMap:f,promotion_url:i,materialList:u}})],N);var j=N;t.default=j}}]);