(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{UTSf:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.typeMap=c,t.setUserType=p,t.setMoney=o,t.getList=i,t.getUserTypesMap=d,t.batchSetIdentity=l,t.updateUser=f,t.updateBackgroundTime=y,t.updateLastActiveAt=h;var r=n(a("d6i3")),u=n(a("t3Un")),s=function(e,t,a,n){function r(e){return e instanceof a?e:new a(function(t){t(e)})}return new(a||(a=Promise))(function(a,u){function s(e){try{p(n.next(e))}catch(e){u(e)}}function c(e){try{p(n["throw"](e))}catch(e){u(e)}}function p(e){e.done?a(e.value):r(e.value).then(s,c)}p((n=n.apply(e,t||[])).next())})};function c(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/xchat/user/typeMap",{method:"GET",body:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}));case 1:case"end":return t.stop()}},t)}))}function p(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/xchat/user/setUserType",{method:"POST",body:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}));case 1:case"end":return t.stop()}},t)}))}function o(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/xchat/user/setMoney",{method:"POST",body:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}));case 1:case"end":return t.stop()}},t)}))}function i(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/xchat/user/getList",{method:"GET",body:e}));case 1:case"end":return t.stop()}},t)}))}function d(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/admin/user/getUserTypesMap",{method:"GET",body:e}));case 1:case"end":return t.stop()}},t)}))}function l(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/admin/user/batchSetIdentity",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}));case 1:case"end":return t.stop()}},t)}))}function f(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/admin/user/updateUser",{method:"POST",headers:{"Content-Type":""},body:e}));case 1:case"end":return t.stop()}},t)}))}function y(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/admin/user/updateBackgroundTime",{method:"POST",body:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}));case 1:case"end":return t.stop()}},t)}))}function h(e){return s(this,void 0,void 0,r.default.mark(function t(){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.default)("/admin/user/updateLastActiveAt",{method:"POST",body:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}));case 1:case"end":return t.stop()}},t)}))}},aLbq:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3")),u=a("UTSf"),s=a("BYdO"),c=a("dCQc"),p={namespace:"users_info",state:{data:{page:1,total_count:1,list:[]},userTypesMap:{},globalCountryMap:[]},reducers:{globalCountryMapReducer:function(e,t){var a=t.payload;return a?Object.assign(Object.assign({},e),{globalCountryMap:a.data}):Object.assign({},e)},userListReducer:function(e,t){var a=t.payload;return a?Object.assign(Object.assign({},e),{data:a.data}):Object.assign({},e)},typeMapReducer:function(e,t){var a=t.payload;return Object.assign(Object.assign({},e),{typeMap:a.data})},userTypesMapReducer:function(e,t){var a=t.payload;return console.log(a,"payload"),Object.assign(Object.assign({},e),{userTypesMap:a.data})},updateState:function(e,t){var a=t.payload;return Object.assign(Object.assign({},e),a)}},effects:{getUserList:r.default.mark(function e(t,a){var n,s,c,p;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,c=a.put,e.next=4,s(u.getList,n);case 4:return p=e.sent,e.next=7,c({type:"userListReducer",payload:p});case 7:case"end":return e.stop()}},e)}),getTypeMap:r.default.mark(function e(t,a){var n,s,c,p;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,c=a.put,e.next=4,s(u.typeMap,n);case 4:return p=e.sent,e.next=7,c({type:"typeMapReducer",payload:p});case 7:case"end":return e.stop()}},e)}),setUserType:r.default.mark(function e(t,a){var n,s,c,p;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,c=a.put,e.next=4,s(u.setUserType,n);case 4:return p=e.sent,e.next=7,c({type:"userListReducer",payload:p});case 7:case"end":return e.stop()}},e)}),setMoney:r.default.mark(function e(t,a){var n,s,c,p;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,c=a.put,e.next=4,s(u.setMoney,n);case 4:return p=e.sent,e.next=7,c({type:"userListReducer",payload:p});case 7:case"end":return e.stop()}},e)}),getUserTypesMap:r.default.mark(function e(t,a){var n,s,c,p;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,c=a.put,e.next=4,s(u.getUserTypesMap,n);case 4:return p=e.sent,e.next=7,c({type:"userTypesMapReducer",payload:p});case 7:case"end":return e.stop()}},e)}),getGlobalCountryMap:r.default.mark(function e(t,a){var n,u,s,p;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,u=a.call,s=a.put,e.next=4,u(c.getGlobalCountryMap,n);case 4:return p=e.sent,e.next=7,s({type:"globalCountryMapReducer",payload:p});case 7:case"end":return e.stop()}},e)}),batchSetIdentity:r.default.mark(function e(t,a){var n,s,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,a.put,e.next=4,s(u.batchSetIdentity,Object.assign({},n));case 4:return c=e.sent,e.abrupt("return",new Promise(function(e){e(c)}));case 6:case"end":return e.stop()}},e)}),updateLastActiveAt:r.default.mark(function e(t,a){var n,s,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,a.put,e.next=4,s(u.updateLastActiveAt,Object.assign({},n));case 4:return c=e.sent,e.abrupt("return",new Promise(function(e){e(c)}));case 6:case"end":return e.stop()}},e)}),updateUser:r.default.mark(function e(t,a){var n,s,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,a.put,console.log(n,"payload------"),e.next=5,s(u.updateUser,n.params);case 5:return c=e.sent,e.abrupt("return",new Promise(function(e){e(c)}));case 7:case"end":return e.stop()}},e)}),updateBackgroundTime:r.default.mark(function e(t,a){var n,s,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,a.put,console.log(n,"payload------"),e.next=5,s(u.updateBackgroundTime,n);case 5:return c=e.sent,e.abrupt("return",new Promise(function(e){e(c)}));case 7:case"end":return e.stop()}},e)}),fetchChargeSetting:r.default.mark(function e(t,a){var n,u,c,p,o,i,d,l,f,y;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,u=a.put,e.next=3,n(s.getChargeSetting);case 3:if(c=e.sent,0!=c.code){e.next=14;break}return p=c.data,o=p.charge_list_message,i=p.charge_list_video,d=p.charge_list_voice,l=new Map,f=new Map,y=new Map,o.map(function(e){l.set(e,e)}),i.map(function(e){f.set(e,e)}),d.map(function(e){y.set(e,e)}),e.next=14,u({type:"updateState",payload:{videoMap:f,messageMap:l,voiceMap:y}});case 14:case"end":return e.stop()}},e)}),fetchGenders:r.default.mark(function e(t,a){var n,u,c,p,o;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,u=a.put,e.next=3,n(s.getUserSexList);case 3:return c=e.sent,p=c.data,o=new Map,"object"===typeof o&&Object.keys(p).map(function(e){o.set(e,p[e])}),e.next=9,u({type:"updateState",payload:{genders:o}});case 9:case"end":return e.stop()}},e)}),fetchCountryList:r.default.mark(function e(t,a){var n,u,s,p,o;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.put,u=a.call,e.next=3,u(c.getGlobalCountryMap);case 3:return s=e.sent,p=s.data,o=new Map,Array.isArray(p)&&p.map(function(e){o.set(e.id,e.name)}),e.next=9,n({type:"updateState",payload:{nation:o}});case 9:case"end":return e.stop()}},e)}),getUserTagInterestMap:r.default.mark(function e(t,a){var n,u,c,p,o;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.put,u=a.call,e.next=3,u(s.getUserTagInterestMap);case 3:return c=e.sent,p=c.data,o=new Map,Array.isArray(p)&&p.map(function(e){o.set(e.id,e.name)}),e.next=9,n({type:"updateState",payload:{user_interests:o}});case 9:case"end":return e.stop()}},e)}),fetchTagsMap:r.default.mark(function e(t,a){var n,u,c,p,o;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.put,u=a.call,e.next=3,u(s.getTagsMap);case 3:return c=e.sent,p=c.data,o=new Map,Array.isArray(p)&&p.map(function(e){o.set(e.id,e.name)}),e.next=9,n({type:"updateState",payload:{tagsMap:o}});case 9:case"end":return e.stop()}},e)}),fetchTserTypesMap:r.default.mark(function e(t,a){var n,s,c,p;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.put,s=a.call,e.next=3,s(u.getUserTypesMap);case 3:return c=e.sent,p=c.data||{},e.next=7,n({type:"updateState",payload:{userTypesMap:p}});case 7:case"end":return e.stop()}},e)})},subscriptions:{setup:function(e){var t=e.dispatch,a=e.history;return a.listen(function(e){var a=e.pathname;e.search;"/operation/user/list"===a&&(t({type:"fetchGenders"}),t({type:"fetchCountryList"}),t({type:"getUserTagInterestMap"}),t({type:"fetchTserTypesMap"}),t({type:"fetchChargeSetting"}),t({type:"fetchTagsMap"}))})}}};t.default=p}}]);