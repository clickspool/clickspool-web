(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{Y5yc:function(e,t,a){"use strict";var n=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var l=n(a("2/Rp"));a("5NDa");var o=n(a("5rEg"));a("Pwec");var u=n(a("CtXQ")),i=n(a("p0pE")),f=n(a("2Taf")),c=n(a("vZ4D")),s=n(a("MhPg")),d=n(a("l4Ni")),p=n(a("ujKo"));a("y8nQ");var m,g,y,h,v=n(a("Vl3Y")),b=a("MuoO"),E=r(a("q1tI")),k=n(a("3a4m")),w=a("LLXN"),P=(a("fPeI"),n(a("i3Ha"))),D=n(a("w2qy"));function x(e){return function(){var t,a=(0,p.default)(e);if(I()){var n=(0,p.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,d.default)(this,t)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var L=v.default.Item,M=(m=(0,b.connect)(function(e){var t=e.login,a=e.loading,n=e.memberInfo.data.keys;return{login:t,submitting:a.effects["login/login"],keys:n}}),g=v.default.create(),m(y=g((h=function(e){(0,s.default)(a,e);var t=x(a);function a(){var e;(0,f.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){if(!t){var n=e.props.dispatch;n({type:"login/login",payload:(0,i.default)({},a)}).then(function(){var t=e.props.login.token;t&&n({type:"memberInfo/getMemberInfo",payload:{}}).then(function(){var t=e.props.keys,a=[];function n(e){e.map(function(e){t.indexOf(e.key)>-1&&!e.routes&&a.push({key:e.key,path:e.path}),t.indexOf(e.key)>-1&&e.routes&&n(e.routes)})}n(P.default[1].routes),k.default.push(a[0].path)})})}})},e.changeLan=function(){(0,w.setLocale)("en-US")},e}return(0,c.default)(a,[{key:"componentDidMount",value:function(){this.changeLan()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return E.default.createElement("div",null,E.default.createElement("div",{className:D.default.main},E.default.createElement(v.default,{onSubmit:this.handleSubmit,className:"login-form"},E.default.createElement(L,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(E.default.createElement(o.default,{prefix:E.default.createElement(u.default,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),E.default.createElement(L,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(E.default.createElement(o.default,{prefix:E.default.createElement(u.default,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),E.default.createElement(L,null,E.default.createElement(l.default,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0},E.default.createElement(w.FormattedMessage,{id:"app.login.login"}))))))}}]),a}(E.Component),y=h))||y)||y),N=M;t.default=N},w2qy:function(e,t,a){e.exports={main:"antd-pro-pages-user-login-main",icon:"antd-pro-pages-user-login-icon",other:"antd-pro-pages-user-login-other",register:"antd-pro-pages-user-login-register"}}}]);