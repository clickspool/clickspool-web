(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[53],{"j/3t":function(t,e,n){"use strict";var a=n("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("d6i3")),i=n("k0xn"),c={namespace:"agora",state:{filter:{page:1,page_size:20,total:0},list:[]},reducers:{update:function(t,e){var n=e.payload;return Object.assign(Object.assign({},t),n)},filter:function(t,e){var n=e.payload,a=n.filter;return Object.assign(Object.assign({},t),{filter:Object.assign(Object.assign({},t.filter),a)})}},effects:{fetch:r.default.mark(function t(e,n){var a,c,u,s,o,f,l;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.payload,a=n.call,c=n.put,u=n.select,t.next=4,u(function(t){return t.agora.filter});case 4:return s=t.sent,t.next=7,a(i.fetch,s);case 7:return o=t.sent,f=o.code,l=o.data,t.next=11,c({type:"update",payload:{list:f?[]:l.list}});case 11:return t.next=13,c({type:"filter",payload:{filter:{total:l.total_count}}});case 13:case"end":return t.stop()}},t)})},subscriptions:{setup:function(t){var e=t.history,n=t.dispatch;e.listen(function(t){var e=t.pathname;e.indexOf("agora")>-1&&n({type:"fetch"})})}}};e.default=c},k0xn:function(t,e,n){"use strict";var a=n("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.fetch=u;var r=a(n("d6i3")),i=a(n("t3Un")),c=function(t,e,n,a){function r(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function c(t){try{s(a.next(t))}catch(t){i(t)}}function u(t){try{s(a["throw"](t))}catch(t){i(t)}}function s(t){t.done?n(t.value):r(t.value).then(c,u)}s((a=a.apply(t,e||[])).next())})};function u(t){return c(this,void 0,void 0,r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.default)("/user/agora/getList",{method:"GET",body:t}));case 1:case"end":return e.stop()}},e)}))}}}]);