(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{pKTk:function(t,e,a){"use strict";var i=a("tAuX"),n=a("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("g9YV");var r=n(a("wCAj"));a("+L6B");var o=n(a("2/Rp")),s=n(a("2Taf")),d=n(a("vZ4D")),l=n(a("MhPg")),c=n(a("l4Ni")),p=n(a("ujKo")),u=a("MuoO"),f=i(a("q1tI")),h=a("LLXN"),g=n(a("71zH")),m=n(a("b7VY")),y=n(a("UbMB")),w=n(a("TFTq"));function S(t){return function(){var e,a=(0,p.default)(t);if(M()){var i=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return(0,c.default)(this,e)}}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var v=function(t,e,a,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(r<3?n(o):r>3?n(e,a,o):n(e,a))||o);return r>3&&o&&Object.defineProperty(e,a,o),o},b=y.default.bind(w.default),O=function(t){(0,l.default)(a,t);var e=S(a);function a(t){var i;return(0,s.default)(this,a),i=e.call(this,t),i.showEdit=function(t,e){t.preventDefault(),e&&i.setState({editRecord:e}),i.setState({editShowing:!0})},i.showAdd=function(){i.setState({addShowing:!0})},i.hideAdd=function(){i.setState({addShowing:!1})},i.hideEdit=function(){i.setState({editShowing:!1,editRecord:null})},i.deleteRecord=function(t){var e=i.props.dispatch;e({type:"myMaterial/delete",payload:t})},i.putOnline=function(t){i.props.dispatch({type:"myMaterial/patchStatus",payload:Object.assign(Object.assign({},t),{status:1})})},i.putOffline=function(t){i.props.dispatch({type:"myMaterial/patchStatus",payload:Object.assign(Object.assign({},t),{status:0})})},i.search=function(t){i.setState({search:t}),i.props.dispatch({payload:Object.assign({},t),type:"myMaterial/fetch"})},i.onShowSizeChange=function(t,e){i.props.dispatch({type:"myMaterial/changePage_size",payload:{page:t,page_size:e}}),i.fetchPage(t,e)},i.fetchPage=function(t,e){var a=i.state.search,n=void 0===a?{}:a;i.props.dispatch({type:"myMaterial/fetch",payload:Object.assign({page:t,page_size:e},n)})},i.state={editShowing:!1,addShowing:!1},i}return(0,d.default)(a,[{key:"render",value:function(){var t=[{icon:"lock",title:(0,h.formatMessage)({id:"menu.operation"})},{title:(0,h.formatMessage)({id:"menu.afiliate.my"})}],e=this.props,a=e.list,i=e.total,n=e.page,s=e.page_size,d=e.types,l=(e.statuses,this.state),c=(l.editShowing,l.addShowing,l.editRecord),p=this.showEdit,u=this.hideEdit,y=(this.deleteRecord,this.hideAdd,this.showAdd,this.search,this.putOnline,this.putOffline,[{title:(0,h.formatMessage)({id:"app.material.id"}),dataIndex:"aid",align:"center"},{title:(0,h.formatMessage)({id:"app.material.title"}),dataIndex:"title",align:"center"},{title:(0,h.formatMessage)({id:"app.material.type"}),dataIndex:"type",align:"center",render:function(t){return d[t]}},{title:(0,h.formatMessage)({id:"app.material.destinationlink"}),dataIndex:"promotion_url",align:"center",width:200},{title:(0,h.formatMessage)({id:"app.material.description"}),dataIndex:"description",align:"center",width:200},{title:(0,h.formatMessage)({id:"app.material.promotetime"}),dataIndex:"created_at",align:"center",width:200},{title:(0,h.formatMessage)({id:"app.material.operation"}),dataIndex:"operation",align:"center",render:function(t,e){return f.default.createElement(o.default,{onClick:function(t){p(t,e)}},(0,h.formatMessage)({id:"app.material.detail"}))}}]);return f.default.createElement(f.Fragment,null,f.default.createElement(g.default,{items:t}),f.default.createElement(r.default,{className:b("list"),bordered:!0,rowKey:"aid",columns:y,dataSource:a||[],pagination:{position:"both",pageSize:s,showSizeChanger:!0,page_sizeOptions:["20","30","40"],onShowSizeChange:this.onShowSizeChange,total:i,current:n,showTotal:function(t){return(0,h.formatMessage)({id:"app.glob.pagetotal"},{total:t})},size:"small",onChange:this.fetchPage}}),c&&f.default.createElement(m.default,{caption:c.title,mine:!0,mym:!0,record:c,visible:!!this.state.editRecord,close:u}))}}]),a}(f.PureComponent);O=v([(0,u.connect)(function(t){var e=t.myMaterial,a=e.list,i=e.total,n=e.page,r=e.page_size,o=t.material,s=o.types,d=o.statuses,l=void 0===d?{}:d,c=o.merchantMap;return{list:a,total:i,page:n,page_size:r,types:s,statuses:l,merchantMap:c}})],O);var R=O;e.default=R}}]);