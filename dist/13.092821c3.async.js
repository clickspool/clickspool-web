(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{P8oi:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("d6i3")),s=a("pq6W"),c={namespace:"roomUsers",state:{filter:{page:1,page_size:20,total:0},list:[]},reducers:{update:function(e,t){var a=t.payload;return Object.assign(Object.assign({},e),a)},filter:function(e,t){var a=t.payload,r=a.filter;return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),r)})}},effects:{fetch:n.default.mark(function e(t,a){var r,c,i,o,u,l,p;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,c=a.put,i=a.select,e.next=4,i(function(e){return e.roomUsers.filter});case 4:return o=e.sent,e.next=7,r(s.getRoomMemberList,o);case 7:return u=e.sent,l=u.code,p=u.data,e.next=11,c({type:"update",payload:{list:l?[]:p.list}});case 11:return e.next=13,c({type:"filter",payload:{filter:{total:p.total_count}}});case 13:case"end":return e.stop()}},e)}),leaveRoom:n.default.mark(function e(t,a){var r,c,i,o,u;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,c=a.call,i=a.put,e.next=4,c(s.leaveRoom,Object.assign({},r));case 4:if(o=e.sent,u=o.code,u){e.next=9;break}return e.next=9,i({type:"fetch"});case 9:return e.abrupt("return",new Promise(function(e){e(o)}));case 10:case"end":return e.stop()}},e)})}};t.default=c}}]);