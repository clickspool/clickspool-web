(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[49],{"JM+f":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var l=n(a("kLXV"));a("Pwec");var r=n(a("CtXQ")),i=n(a("p0pE")),u=n(a("2Taf")),o=n(a("vZ4D")),c=n(a("MhPg")),f=n(a("l4Ni")),d=n(a("ujKo"));a("7Kak");var s=n(a("9yH6"));a("iQDF");var p=n(a("+eQT"));a("OaEy");var m=n(a("2fM7"));a("5NDa");var h=n(a("5rEg"));a("y8nQ");var v,g,y,E,w=n(a("Vl3Y")),C=a("MuoO"),M=n(a("q1tI")),S=a("LLXN"),x=(a("+n12"),n(a("Rhli")));n(a("LvDl"));function k(e){return function(){var t,a=(0,d.default)(e);if(b()){var n=(0,d.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,f.default)(this,t)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}a("wd/R"),w.default.Item,h.default.TextArea;var R=m.default.Option,T=(p.default.RangePicker,s.default.Group,h.default.Search,v=w.default.create(),g=(0,C.connect)(function(e){var t=e.voiceTag.statusMap,a=void 0===t?{}:t;return{statusMap:a}}),v(y=g((E=function(e){(0,c.default)(a,e);var t=k(a);function a(){var e;(0,u.default)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l)),e.onOk=function(){var t=e.props,a=t.form.validateFields,n=t.info,l=void 0===n?{}:n,r=t.onClose,u=t.dispatch;a(function(e,t){e||u({type:l.id?"voiceTag/modify":"voiceTag/add",payload:(0,i.default)({},l,t,{icon_remote:t.icon[0].url,icon:t.icon[0].name})}).then(function(){r(1)})})},e.onCancel=function(){var t=e.props.onClose;t()},e.normFile=function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.statusMap,n=e.info,i=void 0===n?{}:n,u={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};r.default;return M.default.createElement(l.default,{title:i.id?(0,S.formatMessage)({id:"app.versions.edit"}):(0,S.formatMessage)({id:"app.versions.add"}),cancelText:(0,S.formatMessage)({id:"app.model.cancel"}),okText:(0,S.formatMessage)({id:"app.model.okText"}),onOk:this.onOk,onCancel:this.onCancel,visible:!0},M.default.createElement("div",{className:"model_"},M.default.createElement(w.default,u,M.default.createElement(w.default.Item,{label:"\u6807\u7b7e\u540d"},t("name",{initialValue:i.name||"",rules:[{required:!0,message:"\u6807\u7b7e\u540d"}]})(M.default.createElement(h.default,{placeholder:"\u6807\u7b7e\u540d"}))),M.default.createElement(w.default.Item,{label:"\u6807\u7b7e\u63cf\u8ff0"},t("content",{initialValue:i.content||"",rules:[{required:!0,message:"\u6807\u7b7e\u63cf\u8ff0"}]})(M.default.createElement(h.default,{placeholder:"\u6807\u7b7e\u63cf\u8ff0"}))),M.default.createElement(w.default.Item,{label:"\u6807\u7b7e\u56fe\u6807"},t("icon",{initialValue:{img:{name:i.icon,url:i.icon_remote},max:1},rules:[{required:!0}]})(M.default.createElement(x.default,null))),M.default.createElement(w.default.Item,{label:"\u72b6\u6001"},t("status",{initialValue:i.status||"0",rules:[{required:!0,message:"\u72b6\u6001"}]})(M.default.createElement(m.default,{placeholder:"\u72b6\u6001"},Object.keys(a).map(function(e){return M.default.createElement(R,{key:e,value:e},a[e])})))))))}}]),a}(M.default.Component),y=E))||y)||y),I=T;t.default=I},Rhli:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var l=n(a("kLXV"));a("DZo9");var r=n(a("8z0m"));a("Pwec");var i=n(a("CtXQ")),u=n(a("2Taf")),o=n(a("vZ4D")),c=n(a("rlhR")),f=n(a("MhPg")),d=n(a("l4Ni")),s=n(a("ujKo")),p=n(a("q1tI")),m=a("p6cA");function h(e){return function(){var t,a=(0,s.default)(e);if(v()){var n=(0,s.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,d.default)(this,t)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var g=function(e){(0,f.default)(a,e);var t=h(a);function a(e){var n;(0,u.default)(this,a),n=t.call(this,e),n.customRequest=function(e){var t=(0,c.default)(n),a=new FormData;a.append("multiMedia",e.file),(0,m.uploadMultiMedia)(a).then(function(e){console.log(e,"res"),0==e.code&&(t.state.fileList.push({name:e.data.path,status:"done",url:e.data.url,uid:e.data.path}),t.setState({fileList:t.state.fileList,previewImage:e.data.url}),t.props.onChange(t.state.fileList))})},n.handleCancel=function(){n.setState({previewVisible:!1})},n.handlePreview=function(){n.setState({previewVisible:!0})},n.handleChange=function(e){var t=n.state.fileList;"removed"==e.file.status&&n.setState({fileList:t.filter(function(t){return t.uid!==e.file.uid})}),console.log(e,"opt")};var l=e.value||{};return n.state={previewImage:l.img.url,previewVisible:!1,fileList:l.img.name?[{name:l.img.name,status:"done",url:l.img.url,uid:l.img.name}]:[],max:1|l.max},n}return(0,o.default)(a,[{key:"render",value:function(){var e=this.state,t=e.fileList,a=e.previewVisible,n=e.previewImage,u=e.max,o=p.default.createElement("div",null,p.default.createElement(i.default,{type:"plus"}),p.default.createElement("div",{className:"ant-upload-text"},"Upload"));return p.default.createElement("div",null,p.default.createElement(r.default,{action:"",listType:"picture-card",customRequest:this.customRequest,fileList:t,onPreview:this.handlePreview,onChange:this.handleChange},t.length>=u?null:o),p.default.createElement(l.default,{visible:a,footer:null,onCancel:this.handleCancel},p.default.createElement("img",{alt:"example",style:{width:"100%"},src:n})))}}]),a}(p.default.Component);t.default=g},yJNf:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("miYZ");var r=n(a("tsqr"));a("g9YV");var i=n(a("wCAj"));a("P2fV");var u=n(a("NJEC"));a("+BJd");var o=n(a("mr32"));a("IzEo");var c=n(a("bx4M"));a("14J3");var f=n(a("BMrR")),d=n(a("jHYr"));a("+L6B");var s=n(a("2/Rp"));a("jCWc");var p=n(a("kPKH")),m=n(a("2Taf")),h=n(a("vZ4D")),v=n(a("rlhR")),g=n(a("MhPg")),y=n(a("l4Ni")),E=n(a("ujKo"));a("Znn+");var w=n(a("ZTPi"));a("iQDF");var C=n(a("+eQT"));a("OaEy");var M=n(a("2fM7"));a("y8nQ");var S=n(a("Vl3Y"));a("5NDa");var x,k,b,R,T=n(a("5rEg")),I=l(a("q1tI")),L=a("MuoO"),D=n(a("71zH")),P=a("LLXN"),_=(n(a("3a4m")),n(a("JM+f")));function z(e){return function(){var t,a=(0,E.default)(e);if(O()){var n=(0,E.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,y.default)(this,t)}}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}T.default.Search,S.default.Item,T.default.TextArea;var q=M.default.Option,F=(C.default.RangePicker,w.default.TabPane,x=S.default.create(),k=(0,L.connect)(function(e){var t=e.voiceTag,a=t.filter,n=t.list,l=t.statusMap,r=void 0===l?{}:l;return{filter:a,list:n,statusMap:r}}),x(b=k((R=function(e){(0,g.default)(a,e);var t=z(a);function a(e){var n;return(0,m.default)(this,a),n=t.call(this,e),n.changeFilter=function(e){var t=n.props.dispatch;return new Promise(function(a){t({type:"voiceTag/filter",payload:{filter:e}}),a()})},n.fetch=function(e){var t=n.props.dispatch;console.info("query__",e),n.changeFilter(e).then(function(){t({type:"voiceTag/fetch"})})},n.onEdit=function(e){n.setState({info:e||{}},function(){n.setState({showModel:!0})})},n.onClose=function(){n.setState({showModel:!1})},n.onReset=function(){var e=n.props.form.resetFields;e(),n.onSearch()},n.onSearch=function(){var e=n.props.form.validateFields;e(function(e,t){n.changeFilter({page:1,page_size:20,total:0}).then(function(){n.fetch(t)})})},n.export=function(){var e=n.props.dispatch;n.state.pagination;e({type:"voiceTag/fetch",payload:{export:1}})},n.SearchBar=function(){var e=(0,v.default)(n),t=e.props,a=t.form.getFieldDecorator,l=t.statusMap,r=e.onSearch,i=(e.onEdit,e.onReset);return I.default.createElement(c.default,{className:"styles-card",bordered:!0},I.default.createElement(S.default,null,I.default.createElement(f.default,{gutter:16,className:"regDate"},I.default.createElement(p.default,{lg:4,md:12,sm:24},I.default.createElement(S.default.Item,null,a("id")(I.default.createElement(T.default,{placeholder:"\u8bf7\u8f93\u5165ID"})))),I.default.createElement(p.default,{lg:4,md:12,sm:24},I.default.createElement(S.default.Item,null,a("name")(I.default.createElement(T.default,{placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d"})))),I.default.createElement(p.default,{lg:4,md:12,sm:24},I.default.createElement(S.default.Item,null,a("status")(I.default.createElement(M.default,{placeholder:"\u9009\u62e9\u72b6\u6001"},Object.keys(l).map(function(e,t){return I.default.createElement(q,{value:e,key:t},l[e])}))))),I.default.createElement(p.default,{lg:7,md:12,sm:24},I.default.createElement(s.default,{type:"primary",onClick:r},(0,P.formatMessage)({id:"app.content.search"})),I.default.createElement(s.default,{style:{marginLeft:8},onClick:function(){i()}},"\u91cd\u7f6e"),I.default.createElement(s.default,{style:{marginLeft:8},onClick:function(){n.setState(function(e){return(0,d.default)(e),{info:{}}},function(){n.setState({showModel:!0})})}},"\u65b0\u589e")))))},n.onEdit=function(e){n.setState({info:e||{}},function(){n.setState({showModel:!0})})},n.onClose=function(){n.setState({showModel:!1})},n.onDel=function(e){var t=n.props.dispatch;t({type:"voiceTag/del",payload:{id:e}})},n.TableList=function(){var e=n.props,t=e.list,a=e.filter,l=e.statusMap,r=void 0===l?{}:l,c=e.dispatch,f=(0,v.default)(n),d=f.onDel,p=f.onEdit,m=[{title:"ID",dataIndex:"id",key:"id",align:"center"},{title:"\u6807\u7b7e\u540d",dataIndex:"name",key:"name",align:"center"},{title:"\u6807\u7b7e\u63cf\u8ff0",dataIndex:"content",key:"content",align:"center"},{title:"url",dataIndex:"icon_remote",key:"icon_remote",align:"center",render:function(e,t){return I.default.createElement("img",{src:e,style:{width:"100px",height:"auto"}})}},{title:"\u65f6\u95f4",dataIndex:"create_at",key:"create_at",align:"center"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",align:"center",render:function(e){return I.default.createElement(o.default,{color:1==e?"green":"grey"},r[e])}},{title:"\u64cd\u4f5c",dataIndex:"active",key:"active",align:"center",render:function(e,t){return I.default.createElement(I.default.Fragment,null,I.default.createElement(u.default,{title:"\u786e\u5b9a\u662f\u5426".concat(0==t.status?"\u4e0a\u67b6":"\u4e0b\u67b6","\uff1f"),onConfirm:function(){c({type:"voiceTag/SetStatus",payload:{id:t.id,status:+!+t.status}})},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},I.default.createElement(s.default,{type:0==t.status?"green":"danger",size:"small",style:{marginLeft:"8px"}},0==t.status?"\u4e0a\u67b6":"\u4e0b\u67b6")),I.default.createElement(s.default,{type:"primary",size:"small",onClick:function(){p(t)},style:{marginLeft:"8px"}},"\u7f16\u8f91"),I.default.createElement(u.default,{title:"\u786e\u5b9a\u5220\u9664\uff1f",onConfirm:d.bind(this,t.id),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},I.default.createElement(s.default,{type:"danger",size:"small",style:{marginLeft:"8px"}},"\u5220\u9664")))}}];return I.default.createElement(i.default,{columns:m,dataSource:t,align:"center",bordered:!0,scroll:{x:!0},rowKey:function(e,t){return"".concat(e.id).concat(t)},pagination:{position:"both",pageSize:a.page_size,showSizeChanger:!0,pageSizeOptions:["20","30","40"],onShowSizeChange:n.onShowSizeChange,total:a.total,current:a.page,showTotal:function(e){return(0,P.formatMessage)({id:"app.glob.pagetotal"},{total:a.total})},size:"small",onChange:n.onShowSizeChange}})},n.onShowSizeChange=function(e,t){n.fetch({page:e,page_size:t})},n.onUpload=function(e){0==e.code||r.default.info(e.msg)},n.state={showModel:!1,info:{}},n}return(0,h.default)(a,[{key:"render",value:function(){var e=this.TableList,t=this.SearchBar,a=(this.onUpload,this.url,[{icon:"desktop",title:"\u8fd0\u8425\u7ba1\u7406"},{icon:"robot",title:"\u8bed\u97f3\u623f\u6807\u7b7e\u7ba1\u7406"}]),n=this.state,l=n.info,r=n.showModel,i=this.onClose;return I.default.createElement(I.default.Fragment,null,I.default.createElement(D.default,{items:a}),I.default.createElement(t,null),I.default.createElement(e,null),r&&I.default.createElement(_.default,{info:l,onClose:i}))}}]),a}(I.Component),b=R))||b)||b),V=F;t.default=V}}]);