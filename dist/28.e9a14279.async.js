(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{"1a2o":function(e,t,a){"use strict";var n=a("tAuX"),o=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("q1tI"));a("14J3");var s=o(a("BMrR"));a("+L6B");var r=o(a("2/Rp"));a("5NDa");var i=o(a("5rEg")),c=o(a("gWZ8"));a("OaEy");var d=o(a("2fM7")),p=o(a("2Taf")),u=o(a("vZ4D")),f=o(a("MhPg")),m=o(a("l4Ni")),h=o(a("ujKo"));a("y8nQ");var g,y,v,b=o(a("Vl3Y")),M=a("LLXN"),E=o(a("lRVt"));function _(e){return function(){var t,a=(0,h.default)(e);if(w()){var n=(0,h.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,m.default)(this,t)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var S=(g=b.default.create(),g((v=function(e){(0,f.default)(a,e);var t=_(a);function a(){var e;(0,p.default)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),e.handleValues=function(){e.props.form.validateFields(function(t,a){t||e.props.search(a)})},e.reset=function(){e.props.form.resetFields(),e.props.search()},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.positions,n=void 0===a?new Map:a,o=e.clients,p=void 0===o?new Map:o,u=e.cates,f=void 0===u?[]:u,m=e.statuses,h=void 0===m?{}:m,g=e.batchLoading,y=e.batchDisable,v=e.batchOnline,_=e.batchOffline,w=d.default.Option,S=(0,c.default)(n).map(function(e){return l.default.createElement(w,{key:e[0],value:e[0]},e[1])}),k=(0,c.default)(p).map(function(e){return l.default.createElement(w,{key:e[0],value:e[0]},e[1])}),x=f.map(function(e){var t=0==e.status?" (".concat((0,M.formatMessage)({id:"app.scene.category.status_offline"}),")"):"",a=e.name;return 0==e.status&&(a=l.default.createElement(l.default.Fragment,null,l.default.createElement("span",{className:E.default.offline},e.name,t))),l.default.createElement(w,{key:e.id,value:e.id},a)}),N=Object.keys(h).map(function(e){return l.default.createElement(w,{key:e,value:e},h[e])});return l.default.createElement(b.default,{autoComplete:"off",className:E.default["search-wraper"]},l.default.createElement(s.default,{className:"operation-bar ".concat(E.default.operations),gutter:10,type:"flex"},l.default.createElement("div",{className:E.default.operation},t("id")(l.default.createElement(i.default,{placeholder:(0,M.formatMessage)({id:"app.scene.tools.id"}),type:"number",onPressEnter:this.handleValues}))),l.default.createElement("div",{className:E.default.operation},t("name")(l.default.createElement(i.default,{placeholder:(0,M.formatMessage)({id:"app.scene.tools.search.name"}),onPressEnter:this.handleValues}))),l.default.createElement("div",{className:E.default.operation},t("position")(l.default.createElement(d.default,{placeholder:(0,M.formatMessage)({id:"app.scene.tools.search.position"})},l.default.createElement(w,{value:"",className:E.default.all},(0,M.formatMessage)({id:"app.scene.tools.search.allpositions"})),S))),l.default.createElement("div",{className:E.default.operation},t("cate_id")(l.default.createElement(d.default,{placeholder:(0,M.formatMessage)({id:"app.scene.tools.search.cate_name"})},l.default.createElement(w,{value:"",className:E.default.all},(0,M.formatMessage)({id:"app.scene.tools.search.allcates"})),x))),l.default.createElement("div",{className:E.default.operation},t("status")(l.default.createElement(d.default,{placeholder:(0,M.formatMessage)({id:"app.scene.tools.search.status"})},l.default.createElement(w,{value:"",className:E.default.all},(0,M.formatMessage)({id:"app.scene.tools.search.allstatus"})),N))),l.default.createElement("div",{className:E.default.operation},t("client_apply")(l.default.createElement(d.default,{placeholder:(0,M.formatMessage)({id:"app.scene.tools.search.client"})},k))),l.default.createElement("div",{className:E.default["operation-btn"]},l.default.createElement(r.default,{type:"primary",icon:"search",onClick:this.handleValues},(0,M.formatMessage)({id:"app.scene.tools.search.btn"}))),l.default.createElement("div",{className:E.default["operation-btn"]},l.default.createElement(r.default,{type:"primary",onClick:this.reset},(0,M.formatMessage)({id:"app.scene.tools.search.reset"}))),l.default.createElement("div",{className:E.default["operation-btn"]},l.default.createElement(r.default,{type:"primary",onClick:v,loading:g,disabled:y},(0,M.formatMessage)({id:"app.scene.tools.batch_online"}))),l.default.createElement("div",{className:E.default["operation-btn"]},l.default.createElement(r.default,{type:"danger",onClick:_,loading:g,disabled:y},(0,M.formatMessage)({id:"app.scene.tools.batch_offline"})))))}}]),a}(l.PureComponent),y=v))||y),k=S;t.default=k},"6gQG":function(e,t,a){"use strict";var n=a("g09b"),o=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var l=n(a("W9HT"));a("2qtc");var s=n(a("kLXV")),r=n(a("jehZ"));a("P2fV");var i=n(a("NJEC"));a("DZo9");var c=n(a("8z0m"));a("+L6B");var d=n(a("2/Rp"));a("Pwec");var p=n(a("CtXQ"));a("OaEy");var u=n(a("2fM7")),f=n(a("gWZ8"));a("7Kak");var m=n(a("9yH6"));a("BoS7");var h=n(a("Sdc0"));a("5NDa");var g=n(a("5rEg")),y=n(a("eHn4")),v=n(a("d6i3")),b=n(a("1l/V")),M=n(a("2Taf")),E=n(a("vZ4D")),_=n(a("rlhR")),w=n(a("MhPg")),S=n(a("l4Ni")),k=n(a("ujKo"));a("y8nQ");var x,N,C,R,V=n(a("Vl3Y")),F=a("MuoO"),O=o(a("q1tI")),I=a("LLXN"),L=n(a("usrw")),P=n(a("Wwog")),D=n(a("Y+p1")),T=n(a("mwIZ"));function z(e){return function(){var t,a=(0,k.default)(e);if(A()){var n=(0,k.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,S.default)(this,t)}}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var q=a("xDdU"),j=(x=(0,F.connect)(function(e){var t=e.tools,a=t.list,n=t.loading;return{list:a,loading:n}}),N=V.default.create(),x(C=N((R=function(e){(0,w.default)(a,e);var t=z(a);function a(){var e;(0,M.default)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),e.state={visible:!1,formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},fields:[{name:"name",placeholder:(0,I.formatMessage)({id:"app.scene.tools.name_placeholder"}),options:{rules:[{required:!0,message:(0,I.formatMessage)({id:"app.scene.tools.name_required"})},{max:20,message:(0,I.formatMessage)({id:"app.scene.tools.name_verify"})}]},label:(0,I.formatMessage)({id:"app.scene.tools.name"})},{name:"position",placeholder:(0,I.formatMessage)({id:"app.scene.tools.position_placeholder"}),options:{rules:[{required:!0,message:(0,I.formatMessage)({id:"app.scene.tools.position_required"})}],initialValue:2},type:"select",label:(0,I.formatMessage)({id:"app.scene.tools.position_label"}),optionList:"positions"},{name:"cate_id",placeholder:(0,I.formatMessage)({id:"app.scene.tools.cate_placeholder"}),options:{rules:[{required:!0,message:(0,I.formatMessage)({id:"app.scene.tools.cate_required"})}]},type:"select",label:(0,I.formatMessage)({id:"app.scene.tools.cate_label"})},{name:"sort",placeholder:(0,I.formatMessage)({id:"app.scene.tools.sort_placeholder"}),options:{rules:[]},input_type:"number",label:(0,I.formatMessage)({id:"app.scene.tools.sort"})},{name:"client_apply",placeholder:(0,I.formatMessage)({id:"app.scene.tools.client_placeholder"}),options:{rules:[{required:!0,message:(0,I.formatMessage)({id:"app.scene.tools.position_required"})}],initialValue:"0"},type:"radio",label:(0,I.formatMessage)({id:"app.scene.tools.client_label"}),optionList:"clients"},{name:"bundle",placeholder:(0,I.formatMessage)({id:"app.scene.tools.bundle_placeholder"}),options:{rules:[{required:!0,message:(0,I.formatMessage)({id:"app.scene.tools.bundle_required"})}]},type:"upload",label:(0,I.formatMessage)({id:"app.scene.tools.bundle_label"})},{name:"icon",placeholder:(0,I.formatMessage)({id:"app.scene.tools.icon_placeholder"}),options:{rules:[{required:!0,message:(0,I.formatMessage)({id:"app.scene.tools.icon_required"})}]},properties:{listType:"picture-card"},type:"upload",label:(0,I.formatMessage)({id:"app.scene.tools.icon_label"})},{name:"show_name",options:{rules:[{max:30,message:(0,I.formatMessage)({id:"app.scene.tools.show_name_verify"})}]},properties:{autoSize:!0,placeholder:(0,I.formatMessage)({id:"app.scene.tools.show_name_placeholder"})},label:(0,I.formatMessage)({id:"app.scene.tools.show_name"}),type:"textarea"},{name:"status",options:{valuePropName:"checked",initialValue:!1,rules:[]},type:"switch",label:(0,I.formatMessage)({id:"app.scene.category.switch"})}]},e.cancelSwitch=function(){e.props.form.setFieldsValue({status:!0})},e.confirmSwitch=function(){e.props.form.setFieldsValue({status:!1})},e.handleCancel=function(){e.setState({visible:!1}),e.props.form.resetFields(),e.props.close()},e.handleOk=(0,b.default)(v.default.mark(function t(){var a,n,o,l,s,r,i,c,d,p;return v.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:(0,_.default)(e),a=e.props,n=a.form,o=n.validateFields,l=n.getFieldsValue,n.getFieldValue,s=n.resetFields,r=a.dispatch,i=a.close,c=a.id,d=a.list,p=d.find(function(e){return e.id===c}),o(function(){var e=(0,b.default)(v.default.mark(function e(t){var a,n,o;return v.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:if(r({type:"tools/updateState",payload:{loading:!0}}),a=l(),n=new FormData,a.status=!0===a.status?1:0,Object.keys(a).forEach(function(e){var t=a[e];if(void 0!==t){if("bundle"===e&&n.append("bundle_name",a.name),"object"===typeof t&&t)return Array.isArray(t)&&t[0]&&t[0].url?"bundle"===e?n.append(e,p.bundle_path):"icon"===e?n.append(e,p.icon_path):n.append(e,t[0].url):n.append(e,t[0].originFileObj,t[0].name);n.append(e,t)}}),c&&n.append("id",c),!c){e.next=14;break}return e.next=11,r({payload:{params:n,id:c},type:"tools/patch"});case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,r({payload:n,type:"tools/create"});case 16:e.t0=e.sent;case 17:o=e.t0,r({type:"tools/updateState",payload:{loading:!1}}),o&&(i(),s());case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}},t)})),e.handleUploadChange=function(t,a){a.file;e.setState((0,y.default)({},t,"removed"!==a.file.status?a.fileList.slice(a.fileList.length-1):[]))},e.normFile=function(e){return Array.isArray(e)?e:e&&Array.isArray(e.fileList)?e.fileList.slice(-1):e&&e.fileList},e.renderFieldName=function(){var t=(0,_.default)(e);return(0,P.default)(function(a,n,o,l,s){var y=e.props,v=y.form.getFieldDecorator,b=y.cates,M=y.id,E=(y.list,e.state),_=(E.fields,E.formItemLayout);a.name in n&&("switch"===a.type?a.options.initialValue=!!+n[a.name]:"position"===a.name?a.options.initialValue=+n[a.name]>0?+n[a.name]:void 0:"upload"===a.type?n[a.name]&&(a.options.initialValue=[{url:n[a.name],name:n.bundle_name||w,uid:q()}]):a.options.initialValue=n[a.name]);var w=a.name,S=a.options,k=a.input_type,x=a.placeholder,N=a.label,C=a.type,R=(a.initialValue,a.properties),F=void 0===R?{}:R,L=O.default.createElement(g.default,{type:k,placeholder:x}),P=!1,D="",T=a.optionList;if("string"===typeof T&&(T=e.props[T]),"textarea"===C){var z=g.default.TextArea;L=O.default.createElement(z,F)}if("switch"===C&&(M&&!0===S.initialValue&&(P=!0,D=n.tool_count>0?(0,I.formatMessage)({id:"app.scene.category.has_tool_offline_hint"}):(0,I.formatMessage)({id:"app.scene.category.offline_hint"})),L=O.default.createElement(h.default,null)),"radio"===C){var A=m.default.Group,j=(0,f.default)(T).map(function(e){return O.default.createElement(m.default,{key:e[0],value:e[0]},e[1])});L=O.default.createElement(A,null,j)}if("select"===C){var K=u.default.Option;if("cate_id"==w){var X=b.filter(function(e){return 1==e.status||n.cate_id==e.id}).map(function(e){var t="";return 0==e.status&&(t=" (".concat((0,I.formatMessage)({id:"app.scene.category.status_offline"}),")")),O.default.createElement(K,{key:e.id,value:e.id},e.name,t)});L=O.default.createElement(u.default,{placeholder:x},X)}else{var Z=(0,f.default)(T).map(function(e){return O.default.createElement(K,{key:e[0],value:e[0]},e[1])});L=O.default.createElement(u.default,{placeholder:x},Z)}}return"upload"===C&&(S.valuePropName="fileList",S.getValueFromEvent=e.normFile,F.customRequest=function(e){e.file;var t=e.onSuccess;setTimeout(function(){t("ok")},0)},L=O.default.createElement(c.default,F,O.default.createElement(d.default,null,O.default.createElement(p.default,{type:"cloud-upload"})," ",x))),O.default.createElement(V.default.Item,(0,r.default)({key:w},_,{label:N}),P?O.default.createElement(i.default,{title:D,okText:(0,I.formatMessage)({id:"app.scene.category.offline_confirm"}),cancelText:(0,I.formatMessage)({id:"app.scene.category.offline_cancel"}),okType:"danger",onCancel:t.cancelSwitch,onConfirm:t.confirmSwitch},v(w,S)(L)):v(w,S)(L))},D.default)},e}return(0,E.default)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=(t.formItemLayout,t.fields),o=this.props,r=o.visible,i=(o.close,o.form),c=(i.getFieldDecorator,i.getFieldsValue,i.getFieldValue),d=(i.setFieldsValue,i.resetFields,i.getFieldError),p=o.caption,u=o.id,f=o.list,m=(o.cates,o.positions),h=(void 0===m&&new Map,o.clients),g=(void 0===h&&new Map,o.loading),y={};u&&f&&(y=f&&f.find(function(e){return e.id===u}));var v=n.map(function(t){var a="renderField_".concat(t.name),n=e[a];n||(n=e[a]=e.renderFieldName(t.name));var o,l=d(t.name),s=c(t.name);return Array.isArray(c(t.name))&&(s=(0,T.default)(c(t.name)[0],"status")),n(t,y,s,l,o)}),b=g?"":" ".concat(L.default["hide"]);return O.default.createElement(O.default.Fragment,null,O.default.createElement(s.default,{title:p||(0,I.formatMessage)({id:"app.scene.tools.add"}),visible:a||r,onOk:this.handleOk,onCancel:this.handleCancel},O.default.createElement(V.default,{autoComplete:"off"},v)),O.default.createElement("div",{className:"".concat(L.default.loading).concat(b)},O.default.createElement(l.default,{size:"large"})))}}]),a}(O.PureComponent),C=R))||C)||C),K=j;t.default=K},YRiz:function(e,t,a){e.exports={icon:"antd-pro-pages-operation-scene-tool-list-icon",handle:"antd-pro-pages-operation-scene-tool-list-handle","operations-wraper":"antd-pro-pages-operation-scene-tool-list-operations-wraper",edit:"antd-pro-pages-operation-scene-tool-list-edit",danger:"antd-pro-pages-operation-scene-tool-list-danger",delete:"antd-pro-pages-operation-scene-tool-list-delete antd-pro-pages-operation-scene-tool-list-danger"}},ZRBw:function(e,t,a){"use strict";var n=a("g09b"),o=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var l=n(a("wCAj"));a("+L6B");var s=n(a("2/Rp"));a("sPJy");var r=n(a("bE4q"));a("/zsF");var i=n(a("PArb"));a("P2fV");var c=n(a("NJEC"));a("Pwec");var d=n(a("CtXQ"));a("+BJd");var p=n(a("mr32"));a("2qtc");var u=n(a("kLXV")),f=n(a("p0pE")),m=n(a("2Taf")),h=n(a("vZ4D")),g=n(a("rlhR")),y=n(a("MhPg")),v=n(a("l4Ni")),b=n(a("ujKo"));a("5NDa");var M,E,_,w=n(a("5rEg")),S=a("MuoO"),k=o(a("q1tI")),x=a("LLXN"),N=n(a("YRiz")),C=n(a("1a2o")),R=n(a("6gQG"));function V(e){return function(){var t,a=(0,b.default)(e);if(F()){var n=(0,b.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,v.default)(this,t)}}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}w.default.Search;var O=(M=(0,S.connect)(function(e){var t=e.tools,a=t.list,n=t.statuses,o=t.positions,l=t.clients,s=t.total,r=t.page,i=t.pageSize,c=e.categories.list;return{list:a,cates:c,positions:o,clients:l,statuses:n,total:s,page:r,pageSize:i}}),M((_=function(e){(0,y.default)(a,e);var t=V(a);function a(e){var n;return(0,m.default)(this,a),n=t.call(this,e),n.fetchPage=function(e,t){var a=n.state.search,o=void 0===a?{}:a;n.props.dispatch({type:"tools/fetch",payload:(0,f.default)({page:e,page_size:t},o)})},n.search=function(e){n.setState({search:e});var t=n.props.pageSize;n.props.dispatch({type:"tools/updateState",payload:{filter:e}}),n.props.dispatch({payload:(0,f.default)({},e,{page:1,pageSize:t}),type:"tools/fetch"})},n.delete=function(e){var t=e.id,a=e.status;if(1==a)return u.default.warn({title:(0,x.formatMessage)({id:"app.scene.tools.delete_hint_title"}),content:(0,x.formatMessage)({id:"app.scene.tools.delete_hint_content"}),okText:(0,x.formatMessage)({id:"app.scene.tools.delete_hint_btn"})});n.props.dispatch({payload:{id:t},type:"tools/delete"})},n.showEdit=function(e,t){var a=t.id;e.preventDefault(),n.setState({editId:a})},n.hideEdit=function(){n.setState({editId:null})},n.showAdd=function(){n.setState({adding:!0})},n.hideAdd=function(){n.setState({adding:!1})},n.putOnline=function(e){n.props.dispatch({type:"tools/patchStatus",payload:{id:e,status:1}})},n.putOffline=function(e){n.props.dispatch({type:"tools/patchStatus",payload:{id:e,status:0}})},n.batchOnline=function(){var e=n.state.selectedRowKeys;u.default.confirm({title:(0,x.formatMessage)({id:"app.scene.tools.batch_online_hint"},{selected:e.length}),onOk:function(){n.props.dispatch({type:"tools/batchModify",payload:{ids:e.join(","),status:1}}).then(n.onSelectChange.bind((0,g.default)(n),[]))}})},n.batchOffline=function(){var e=n.state.selectedRowKeys;u.default.confirm({title:(0,x.formatMessage)({id:"app.scene.tools.batch_offline_hint"},{selected:e.length}),onOk:function(){n.props.dispatch({type:"tools/batchModify",payload:{ids:e.join(","),status:0}}).then(n.onSelectChange.bind((0,g.default)(n),[]))}})},n.onShowSizeChange=function(e,t){n.props.dispatch({type:"tools/changePageSize",payload:{page:e,pageSize:t}}),n.fetchPage(e,t)},n.onSelectChange=function(e){var t=!(e.length>0);n.setState({batchDisable:t}),n.setState({selectedRowKeys:e})},n.state={adding:!1,editId:null,selectedRowKeys:[],batchDisable:!0,batchLoading:!1},n}return(0,h.default)(a,[{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"tools/updateState",payload:{page:1,filter:{}}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.cates,o=t.statuses,u=t.total,f=t.pageSize,m=t.page,h=t.positions,g=t.clients,y=[{title:(0,x.formatMessage)({id:"app.scene.tools.id"}),dataIndex:"id",align:"center"},{title:(0,x.formatMessage)({id:"app.scene.tools.icon"}),dataIndex:"icon",render:function(e,t){return k.default.createElement("img",{className:N.default.icon,src:e,alt:t.name})}},{title:(0,x.formatMessage)({id:"app.scene.tools.name"}),dataIndex:"name"},{title:(0,x.formatMessage)({id:"app.scene.tools.position"}),dataIndex:"position",render:function(e,t){return h.get(+e)}},{title:(0,x.formatMessage)({id:"app.scene.tools.client"}),dataIndex:"client_name"},{title:(0,x.formatMessage)({id:"app.scene.tools.cate"}),dataIndex:"cate_name"},{title:(0,x.formatMessage)({id:"app.scene.tools.show_name"}),dataIndex:"show_name"},{title:(0,x.formatMessage)({id:"app.scene.tools.status"}),dataIndex:"status",render:function(e,t){var a,n;return 0==e?(a="gray",n=(0,x.formatMessage)({id:"app.scene.tools.offline"})):(a="blue",n=(0,x.formatMessage)({id:"app.scene.tools.online"})),k.default.createElement(p.default,{color:a},n)}},{title:(0,x.formatMessage)({id:"app.scene.tools.sort"}),dataIndex:"sort"},{title:(0,x.formatMessage)({id:"app.scene.tools.time"}),dataIndex:"create_time",render:function(e,t){return k.default.createElement(k.Fragment,null,k.default.createElement("div",null,k.default.createElement(d.default,{type:"folder-open",theme:"twoTone"})," ",(0,x.formatMessage)({id:"app.scene.tools.update_time"}),": ",t.update_time),k.default.createElement("div",null,k.default.createElement(d.default,{type:"folder-add",theme:"twoTone"})," ",(0,x.formatMessage)({id:"app.scene.tools.create_time"}),": ",t.create_time))}},{title:(0,x.formatMessage)({id:"app.scene.tools.handle"}),key:"handle",render:function(t,a){var n,o,l,s=(0,x.formatMessage)({id:"app.scene.tools.delete"});if(0==a.status)!1,n=(0,x.formatMessage)({id:"app.scene.category.online"}),o=k.default.createElement(c.default,{title:(0,x.formatMessage)({id:"app.scene.category.online_hint"}),okText:(0,x.formatMessage)({id:"app.scene.category.offline_confirm"}),cancelText:(0,x.formatMessage)({id:"app.scene.category.offline_cancel"}),okType:"danger",placement:"topRight",onConfirm:e.putOnline.bind(e,a.id)},k.default.createElement("a",{href:"#",className:N.default.edit},n)),l=k.default.createElement(c.default,{title:(0,x.formatMessage)({id:"app.scene.tools.delete_confirm"}),okText:(0,x.formatMessage)({id:"app.scene.category.offline_confirm"}),cancelText:(0,x.formatMessage)({id:"app.scene.category.offline_cancel"}),okType:"danger",placement:"topRight",onConfirm:e.delete.bind(e,a)},k.default.createElement("a",{href:"#",className:N.default.delete},s));else{!0,n=(0,x.formatMessage)({id:"app.scene.category.offline"});var r=(0,x.formatMessage)({id:"app.scene.category.offline_hint"});a.tool_count>0&&(r=(0,x.formatMessage)({id:"app.scene.category.has_tool_offline_hint"})),o=k.default.createElement(c.default,{title:r,okText:(0,x.formatMessage)({id:"app.scene.category.offline_confirm"}),cancelText:(0,x.formatMessage)({id:"app.scene.category.offline_cancel"}),okType:"danger",placement:"topRight",onConfirm:e.putOffline.bind(e,a.id)},k.default.createElement("a",{href:"#",className:"".concat(N.default.edit," ").concat(N.default.danger)},n)),l=k.default.createElement("span",{className:N.default.delete,onClick:e.delete.bind(e,a)},s)}return k.default.createElement("div",{className:N.default.handle},k.default.createElement("a",{href:"#",className:N.default.edit,onClick:function(t){e.showEdit(t,a)}},(0,x.formatMessage)({id:"app.scene.tools.handle.edit"})),k.default.createElement(i.default,{type:"vertical"}),o,k.default.createElement(i.default,{type:"vertical"}),l)}}];y=y.map(function(e){return e.align="center",e});var v=this.state,b=v.selectedRowKeys,M=v.batchLoading,E=v.batchDisable,_={selectedRowKeys:b,onChange:this.onSelectChange};return k.default.createElement(k.Fragment,null,k.default.createElement(r.default,{className:"breadcrumb-box",separator:"/"},k.default.createElement(r.default.Item,null,k.default.createElement(d.default,{type:"lock"})," ",(0,x.formatMessage)({id:"menu.operation"})),k.default.createElement(r.default.Item,null,(0,x.formatMessage)({id:"menu.operation.video"})),k.default.createElement(r.default.Item,null,(0,x.formatMessage)({id:"menu.operation.video.tools"}))),k.default.createElement("div",{className:N.default["operations-wraper"]},k.default.createElement(C.default,{positions:h,clients:g,cates:n,statuses:o,batchOnline:this.batchOnline,batchOffline:this.batchOffline,batchLoading:M,batchDisable:E,search:this.search}),k.default.createElement(s.default,{type:"primary",onClick:this.showAdd},(0,x.formatMessage)({id:"app.scene.tools.add"}))),this.state.adding&&k.default.createElement(R.default,{visible:this.state.adding,positions:h,clients:g,cates:n,close:this.hideAdd.bind(this)}),k.default.createElement(l.default,{rowSelection:_,bordered:!0,rowKey:"id",columns:y,dataSource:a,pagination:{position:"both",pageSize:f,showSizeChanger:!0,pageSizeOptions:["20","30","40"],onShowSizeChange:this.onShowSizeChange,total:u,current:m,showTotal:function(e){return(0,x.formatMessage)({id:"app.glob.pagetotal"},{total:e})},size:"small",onChange:this.fetchPage}}),this.state.editId&&k.default.createElement(R.default,{caption:(0,x.formatMessage)({id:"app.scene.tools.edit"}),id:this.state.editId,visible:!!this.state.editId,positions:h,clients:g,cates:n,close:this.hideEdit.bind(this)}))}}]),a}(k.PureComponent),E=_))||E),I=O;t.default=I},lRVt:function(e,t,a){e.exports={operation:"antd-pro-pages-operation-scene-components-operation-bar.css-operation","operation-btn":"antd-pro-pages-operation-scene-components-operation-bar.css-operation-btn","search-wraper":"antd-pro-pages-operation-scene-components-operation-bar.css-search-wraper","search-btn":"antd-pro-pages-operation-scene-components-operation-bar.css-search-btn",all:"antd-pro-pages-operation-scene-components-operation-bar.css-all",offline:"antd-pro-pages-operation-scene-components-operation-bar.css-offline"}},usrw:function(e,t,a){e.exports={loading:"antd-pro-pages-operation-scene-tool-edit.css-loading",hide:"antd-pro-pages-operation-scene-tool-edit.css-hide"}}}]);