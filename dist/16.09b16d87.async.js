(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{CXH7:function(e,t,a){e.exports={operation:"antd-pro-pages-material-components-operation-bar-style.m-operation","operation-btn":"antd-pro-pages-material-components-operation-bar-style.m-operation-btn","search-wraper":"antd-pro-pages-material-components-operation-bar-style.m-search-wraper","search-btn":"antd-pro-pages-material-components-operation-bar-style.m-search-btn",all:"antd-pro-pages-material-components-operation-bar-style.m-all",offline:"antd-pro-pages-material-components-operation-bar-style.m-offline",row:"antd-pro-pages-material-components-operation-bar-style.m-row",pullright:"antd-pro-pages-material-components-operation-bar-style.m-pullright"}},ezmC:function(e,t,a){"use strict";var r=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var l=n(a("2/Rp"));a("5NDa");var i=n(a("5rEg"));a("jCWc");var o=n(a("kPKH"));a("14J3");var s=n(a("BMrR"));a("y8nQ");var d=n(a("Vl3Y"));a("OaEy");var c=n(a("2fM7")),u=n(a("2Taf")),f=n(a("vZ4D")),p=n(a("MhPg")),m=n(a("l4Ni")),h=n(a("ujKo")),g=r(a("q1tI")),y=a("LLXN"),v=n(a("CXH7"));function E(e){return function(){var t,a=(0,h.default)(e);if(b()){var r=(0,h.default)(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return(0,m.default)(this,t)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var w=function(e,t,a,r){var n,l=arguments.length,i=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,a,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(i=(l<3?n(i):l>3?n(t,a,i):n(t,a))||i);return l>3&&i&&Object.defineProperty(t,a,i),i},M=function(e){(0,p.default)(a,e);var t=E(a);function a(){var e;return(0,u.default)(this,a),e=t.apply(this,arguments),e.handleValues=function(){e.props.form.validateFields(function(t,a){e.props.search(a)})},e.reset=function(){e.props.form.resetFields(),e.props.search()},e}return(0,f.default)(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.statuses,r=c.default.Option,n=Object.keys(a).map(function(e){return g.default.createElement(r,{key:e,value:e},a[e])});return g.default.createElement(d.default,{autoComplete:"off",className:v.default["search-wraper"]},g.default.createElement(s.default,{className:"operation-bar ".concat(v.default.operations),gutter:10,type:"flex"},g.default.createElement(o.default,{span:6},g.default.createElement(d.default.Item,{style:{display:"inline-block",marginBottom:0}},t("title")(g.default.createElement(i.default,{placeholder:(0,y.formatMessage)({id:"app.material.name"})})))),g.default.createElement(o.default,{span:6},g.default.createElement(d.default.Item,{style:{marginBottom:0}},t("status")(g.default.createElement(c.default,{placeholder:(0,y.formatMessage)({id:"app.material.status"})},n)))),g.default.createElement(o.default,{span:6},g.default.createElement("div",{className:v.default["operation-btn"]},g.default.createElement(l.default,{type:"primary",icon:"search",onClick:this.handleValues},(0,y.formatMessage)({id:"app.material.search"}))),g.default.createElement("div",{className:v.default["operation-btn"]},g.default.createElement(l.default,{onClick:this.reset},(0,y.formatMessage)({id:"app.material.reset"})))),g.default.createElement(o.default,{span:2},g.default.createElement("div",{className:v.default["operation-btn"]},g.default.createElement(l.default,{type:"primary",onClick:this.props.add},this.props.addTitle)))))}}]),a}(g.PureComponent);M=w([d.default.create()],M);var S=M;t.default=S},jaJ8:function(e,t,a){"use strict";var r=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var l=n(a("wCAj"));a("/zsF");var i=n(a("PArb"));a("P2fV");var o=n(a("NJEC"));a("Pwec");var s=n(a("CtXQ"));a("+BJd");var d=n(a("mr32")),c=n(a("2Taf")),u=n(a("vZ4D")),f=n(a("MhPg")),p=n(a("l4Ni")),m=n(a("ujKo")),h=a("MuoO"),g=r(a("q1tI")),y=a("LLXN"),v=n(a("71zH")),E=n(a("ezmC")),b=n(a("b7VY")),w=n(a("UbMB")),M=n(a("TFTq"));function S(e){return function(){var t,a=(0,m.default)(e);if(R()){var r=(0,m.default)(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return(0,p.default)(this,t)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var O=function(e,t,a,r){var n,l=arguments.length,i=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,a,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(i=(l<3?n(i):l>3?n(t,a,i):n(t,a))||i);return l>3&&i&&Object.defineProperty(t,a,i),i},C=w.default.bind(M.default),k=function(e){(0,f.default)(a,e);var t=S(a);function a(e){var r;return(0,c.default)(this,a),r=t.call(this,e),r.showEdit=function(e,t){e.preventDefault(),t&&r.setState({editRecord:t}),r.setState({editShowing:!0})},r.showAdd=function(){r.setState({addShowing:!0})},r.hideAdd=function(){r.setState({addShowing:!1})},r.hideEdit=function(){r.setState({editShowing:!1,editRecord:null})},r.deleteRecord=function(e){var t=r.props.dispatch;t({type:"material/delete",payload:e})},r.putOnline=function(e){r.props.dispatch({type:"material/patchStatus",payload:Object.assign(Object.assign({},e),{status:1})})},r.putOffline=function(e){r.props.dispatch({type:"material/patchStatus",payload:Object.assign(Object.assign({},e),{status:0})})},r.search=function(e){r.setState({search:e}),r.props.dispatch({payload:Object.assign({},e),type:"material/fetch"})},r.onShowSizeChange=function(e,t){r.props.dispatch({type:"material/changePage_size",payload:{page:e,page_size:t}}),r.fetchPage(e,t)},r.fetchPage=function(e,t){var a=r.state.search,n=void 0===a?{}:a;r.props.dispatch({type:"material/fetch",payload:Object.assign({page:e,page_size:t},n)})},r.state={editShowing:!1,addShowing:!1},r}return(0,u.default)(a,[{key:"render",value:function(){var e=[{icon:"monitor",title:(0,y.formatMessage)({id:"menu.afiliate"})}],t=this.props,a=t.list,r=t.total,n=t.page,c=t.page_size,u=t.types,f=t.statuses,p=this.state,m=(p.editShowing,p.addShowing),h=p.editRecord,w=this.showEdit,S=this.hideEdit,R=(this.deleteRecord,this.hideAdd),O=this.showAdd,k=this.search,j=this.putOnline,x=this.putOffline,P=[{title:(0,y.formatMessage)({id:"app.material.id"}),dataIndex:"mid",align:"center",width:120},{title:(0,y.formatMessage)({id:"app.material.title"}),dataIndex:"title",align:"center",width:200},{title:(0,y.formatMessage)({id:"app.material.type"}),dataIndex:"type",align:"center",width:200,render:function(e){return u[e]}},{title:(0,y.formatMessage)({id:"app.material.destinationlink"}),dataIndex:"destination_link",align:"center",width:200},{title:(0,y.formatMessage)({id:"app.material.promotepic"}),dataIndex:"images",align:"center",width:200,render:function(e){return e&&e.length?g.default.createElement(g.default.Fragment,null,e.map(function(e,t){return g.default.createElement("img",{className:M.default.icon,src:e,height:100,alt:"",key:t})})):null}},{title:(0,y.formatMessage)({id:"app.material.promotevideo"}),dataIndex:"videos",align:"center",width:200,render:function(e){return e&&e.length?g.default.createElement(g.default.Fragment,null,e.map(function(e,t){return g.default.createElement("video",{className:M.default.icon,src:e,key:t})})):null}},{title:(0,y.formatMessage)({id:"app.material.description"}),dataIndex:"description",align:"center",width:300},{title:(0,y.formatMessage)({id:"app.material.status"}),dataIndex:"status",align:"center",width:200,render:function(e,t){var a;return a=0===+e?"gray":"blue",g.default.createElement(d.default,{color:a},f[e])}},{title:(0,y.formatMessage)({id:"app.material.time"}),dataIndex:"create_time",align:"center",width:200,render:function(e,t){return g.default.createElement(g.Fragment,null,g.default.createElement("div",null,g.default.createElement(s.default,{type:"file-add"})," ",t.created_at),g.default.createElement("div",null,g.default.createElement(s.default,{type:"file-sync"})," ",t.updated_at))}},{title:(0,y.formatMessage)({id:"app.material.operation"}),dataIndex:"operation",align:"center",fixed:"right",width:150,render:function(e,t){var a,r;return 0==t.status?(!1,a=(0,y.formatMessage)({id:"app.material.published"}),r=g.default.createElement(o.default,{title:(0,y.formatMessage)({id:"app.material.sureup"}),okText:(0,y.formatMessage)({id:"app.material.yes"}),cancelText:(0,y.formatMessage)({id:"app.material.cancel"}),okType:"danger",placement:"topRight",onConfirm:function(){j(t)}},g.default.createElement("a",{href:"#",className:M.default.edit},a))):(!0,a=(0,y.formatMessage)({id:"app.material.revoke"}),r=g.default.createElement(o.default,{title:(0,y.formatMessage)({id:"app.material.suredown"}),okText:(0,y.formatMessage)({id:"app.material.yes"}),cancelText:(0,y.formatMessage)({id:"app.material.cancel"}),okType:"danger",placement:"topRight",onConfirm:function(){x(t)}},g.default.createElement("a",{href:"#",className:"".concat(M.default.edit," ").concat(M.default.danger)},a))),g.default.createElement("div",{className:M.default.handle},g.default.createElement("a",{href:"#",className:M.default.edit,onClick:function(e){w(e,t)}},(0,y.formatMessage)({id:"app.material.edit"})),g.default.createElement(i.default,{type:"vertical"}),r)}}];return g.default.createElement(g.Fragment,null,g.default.createElement(v.default,{items:e}),g.default.createElement("div",{className:C("operate")},g.default.createElement(E.default,{statuses:f,search:k,addTitle:(0,y.formatMessage)({id:"app.material.add"}),add:O})),g.default.createElement(l.default,{className:C("list"),bordered:!0,rowKey:"mid",columns:P,dataSource:a||[],scroll:{x:2e3},pagination:{position:"both",pageSize:c,showSizeChanger:!0,page_sizeOptions:["20","30","40"],onShowSizeChange:this.onShowSizeChange,total:r,current:n,showTotal:function(e){return(0,y.formatMessage)({id:"app.glob.pagetotal"},{total:e})},size:"small",onChange:this.fetchPage}}),m&&g.default.createElement(b.default,{caption:(0,y.formatMessage)({id:"app.material.add"}),visible:m,close:R}),h&&g.default.createElement(b.default,{caption:(0,y.formatMessage)({id:"app.material.edit"}),id:h.id,record:h,visible:!!this.state.editRecord,close:S}))}}]),a}(g.PureComponent);k=O([(0,h.connect)(function(e){var t=e.material,a=t.list,r=t.total,n=t.page,l=t.page_size,i=t.types,o=t.statuses,s=void 0===o?{}:o,d=t.merchantMap;return{list:a,total:r,page:n,page_size:l,types:i,statuses:s,merchantMap:d}})],k);var j=k;t.default=j}}]);